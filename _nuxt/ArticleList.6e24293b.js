import{g as I,i as M,z as E,A as P,j,k as N,o as i,c as a,b as m,l as n,m as V,a as l,F as b,v as y,n as q,B as O,C as R,w as T,t as u,q as D,D as z,E as G,e as H,p as J,f as K,_ as Q}from"./entry.09b395a4.js";import{_ as U}from"./nuxt-picture.5994ddd2.js";const W=o=>(J("data-v-054ee9cd"),o=o(),K(),o),X={key:0,class:"container"},Z={class:"posts container"},ee={class:"post__article"},te={class:"post__details"},se={class:"post__tags"},oe={class:"post__title"},le={class:"post__description"},ie={class:"post__date"},ae=W(()=>l("span",{class:"sr-only"},"Publish date:",-1)),ne=["datetime"],re=I({__name:"ArticleList",props:{limit:{type:Number,default:void 0,validator(o){return o>=0&&o<=1e3}},preloadArticleImages:{type:Number,default:0,validator(o){return o>=0}},showFilter:{type:Boolean,defailt:!1}},async setup(o){let r,h;const C=z(()=>G(()=>import("./ComboboxInput.1702eb9d.js"),["./ComboboxInput.1702eb9d.js","./entry.09b395a4.js","./entry.8227c4fd.css","./ComboboxInput.0190ed27.css"],import.meta.url)),g=M(),x=E(),p=P([]),_=o,{data:F}=([r,h]=j(()=>q(e=>e.$contentful.getEntries({content_type:"article",limit:1e3,order:"-fields.publishDate",select:["fields.title","fields.description","fields.image","fields.tags","fields.publishDate","fields.slug"]}),"$GCpc4d31S7")),r=await r,h(),r),c=N(F.value.items);_.limit&&(c.length=_.limit);const L=[...new Set(c.map(e=>e.fields.tags.join(",")).join(",").split(","))].filter(Boolean).sort(),Y=[...new Set(c.map(e=>`${new Date(e.fields.publishDate).getFullYear()}`))].filter(Boolean),w=[...L.map(e=>({value:e,text:e})),...Y.map(e=>({value:e,text:e}))],A=(g.query.filters?g.query.filters.split(",").map(e=>w.find(s=>s.value.toLowerCase()===e.toLowerCase()||s.text.toLowerCase()===e.toLowerCase())):[]).filter(Boolean);function B(e){if(!p.value.length||!e.fields.tags.length)return!0;for(const s of p.value)if(e.fields.tags.map(d=>d.toLowerCase()).includes(s.toLowerCase())||`${new Date(e.fields.publishDate).getFullYear()}`===s)return!0;return!1}function S(e){p.value=e,x.replace({query:{filters:e.length?e.join(",").toLowerCase():void 0}})}function $(){const e=document.getElementById("filter"),s=72,f=e.getBoundingClientRect().top+window.scrollY-s;window.scrollTo({top:f,behavior:"smooth"})}return(e,s)=>{const d=U,f=H;return i(),a("div",null,[o.showFilter?(i(),a("div",X,[m(n(C),{id:"filter",label:"Filters",multiselectable:!0,value:n(A),options:w,class:"filter",onSelectedOptions:s[0]||(s[0]=t=>S(t)),onFocus:s[1]||(s[1]=t=>$())},null,8,["value"])])):V("",!0),l("ul",Z,[(i(!0),a(b,null,y(n(c),(t,k)=>O((i(),a("li",{key:t.sys.id},[m(f,{to:`/blog/${new Date(t.fields.publishDate).getFullYear()}/${t.fields.slug}`,class:"post"},{default:T(()=>[l("article",ee,[m(d,{class:"post__img",provider:"contentful",src:t.fields.image.fields.file.url,alt:t.fields.image.fields.description,width:"424",height:"223",sizes:"4kdesktop:424px",loading:"lazy",preload:k<=_.preloadArticleImages},null,8,["src","alt","preload"]),l("div",te,[l("ul",se,[(i(!0),a(b,null,y(t.fields.tags,v=>(i(),a("li",{key:v,class:"tag"},u(v),1))),128))]),l("h2",oe,u(t.fields.title),1),l("p",le,u(t.fields.description),1),l("footer",null,[l("p",ie,[ae,l("time",{datetime:n(D)(new Date(t.fields.publishDate)).format("YYYY-MM-DD")},u(n(D)(new Date(t.fields.publishDate)).format("MMMM D, YYYY")),9,ne)])])])])]),_:2},1032,["to"])])),[[R,B(t)]])),128))])])}}});const ue=Q(re,[["__scopeId","data-v-054ee9cd"]]);export{ue as A};
