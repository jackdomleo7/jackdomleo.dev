import{f as O,a9 as N,aa as w,ab as S,H as u,V as I,A as F,Z as K,ac as M,z as A,M as E,ad as z,ae as p,a2 as H,af as T,ag as P,ah as V,ai as q,aj as U,ak as W,al as Z,am as D,F as G,_ as J,k as Q,o as X}from"./CP8WYXlR.js";const B=(t="RouteProvider")=>O({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const a=n.renderKey,r=n.route,o={};for(const i in n.route)Object.defineProperty(o,i,{get:()=>a===n.renderKey?n.route[i]:r[i],enumerable:!0});return N(S,w(o)),()=>n.vnode?u(n.vnode,{ref:n.vnodeRef}):n.vnode}}),Y=B(),j=new WeakMap,$=O({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:n,slots:a,expose:r}){const o=I(),i=F(),d=K(S,null);let k;r({pageRef:i});const l=K(M,null);let s;const v=o.deferHydration();if(o.isHydrating){const e=o.hooks.hookOnce("app:error",v);A().beforeEach(e)}t.pageKey&&E(()=>t.pageKey,(e,y)=>{e!==y&&o.callHook("page:loading:start")});let c=!1;{const e=A().beforeResolve(()=>{c=!1});z(()=>{e()})}return()=>u(W,{name:t.name,route:t.route,...n},{default:e=>{const y=ne(d,e.route,e.Component),_=d&&d.matched.length===e.route.matched.length;if(!e.Component){if(s&&!_)return s;v();return}if(s&&l&&!l.isCurrent(e.route))return s;if(y&&d&&(!l||l?.isCurrent(d)))return _?s:null;const f=p(e,t.pageKey),R=te(d,e.route,e.Component);!o.isHydrating&&k===f&&!R&&H(()=>{c=!0,o.callHook("page:loading:end")}),k=f;const g=!!(t.transition??e.route.meta.pageTransition??T),L=g&&ee([t.transition,e.route.meta.pageTransition,T,{onAfterLeave(){delete o._runningTransition,o.callHook("page:transition:finish",e.Component)}}]),b=t.keepalive??e.route.meta.keepalive??P;return s=V(g&&L,q(b,u(U,{suspensible:!0,onPending:()=>{g&&(o._runningTransition=!0),o.callHook("page:start",e.Component)},onResolve:()=>{H(()=>o.callHook("page:finish",e.Component).then(()=>{if(!c&&!R)return c=!0,o.callHook("page:loading:end")}).finally(v))}},{default:()=>{const C={key:f||void 0,vnode:a.default?ae(a.default,e):e.Component,route:e.route,renderKey:f||void 0,trackRootNodes:g,vnodeRef:i};if(!b)return u(Y,C);const h=e.Component.type,x=h;let m=j.get(x);return m||(m=B(h.name||h.__name),j.set(x,m)),u(m,C)}}))).default(),s}})}});function ee(t){const n=t.filter(Boolean).map(a=>({...a,onAfterLeave:a.onAfterLeave?Z(a.onAfterLeave):void 0}));return D(...n)}function ne(t,n,a){if(!t)return!1;const r=n.matched.findIndex(o=>o.components?.default===a?.type);return!r||r===-1?!1:n.matched.slice(0,r).some((o,i)=>o.components?.default!==t.matched[i]?.components?.default)||a&&p({route:n,Component:a})!==p({route:t,Component:a})}function te(t,n,a){return t?n.matched.findIndex(o=>o.components?.default===a?.type)<n.matched.length-1:!1}function ae(t,n){const a=t(n);return a.length===1?u(a[0]):u(G,void 0,a)}const oe={};function re(t,n){const a=$;return X(),Q(a)}const se=J(oe,[["render",re]]);export{se as default};
