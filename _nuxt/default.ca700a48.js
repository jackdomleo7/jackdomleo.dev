import{K as d,P as K,g as h,Q as x,R as b,S as R,A as S,T as v,U as j,V as _,W as O,X as T,Y as C,Z as N,$ as w,a0 as B,L,a1 as H,_ as I,G as V,o as $}from"./entry.455dc921.js";const q=(e,a)=>a.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var n;return((n=e.params[t.slice(1)])==null?void 0:n.toString())||""}),f=(e,a)=>{const t=e.route.matched.find(i=>{var r;return((r=i.components)==null?void 0:r.default)===e.Component.type}),n=a??(t==null?void 0:t.meta.key)??(t&&q(e.route,t));return typeof n=="function"?n(e.route):n},F=(e,a)=>({default:()=>e?d(K,e===!0?{}:e,a):a}),G=h({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const a=e.renderKey,t=e.route,n={};for(const i in e.route)Object.defineProperty(n,i,{get:()=>a===e.renderKey?e.route[i]:t[i]});return x(R,b(n)),()=>d(e.vnode,{ref:e.vnodeRef})}}),Q=h({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:a,expose:t}){const n=L(),i=S(),r=v(R,null);t({pageRef:i});const c=v(j,null);let s;const u=n.deferHydration();return()=>d(B,{name:e.name,route:e.route,...a},{default:o=>{const k=X(r,o.route,o.Component),m=r&&r.matched.length===o.route.matched.length;if(!o.Component){if(s&&!m)return s;u();return}if(s&&c&&!c.isCurrent(o.route))return s;if(k&&r&&(!c||c!=null&&c.isCurrent(r)))return m?s:null;const y=f(o,e.pageKey),l=!!(e.transition??o.route.meta.pageTransition??_),A=l&&W([e.transition,o.route.meta.pageTransition,_,{onAfterLeave:()=>{n.callHook("page:transition:finish",o.Component)}}].filter(Boolean)),p=e.keepalive??o.route.meta.keepalive??O;return s=T(w,l&&A,F(p,d(C,{suspensible:!0,onPending:()=>n.callHook("page:start",o.Component),onResolve:()=>{N(()=>n.callHook("page:finish",o.Component).finally(u))}},{default:()=>{const g=d(G,{key:y||void 0,vnode:o.Component,route:o.route,renderKey:y||void 0,trackRootNodes:l,vnodeRef:i});return p&&(g.type.name=o.Component.type.name||o.Component.type.__name||"RouteProvider"),g}}))).default(),s}})}});function U(e){return Array.isArray(e)?e:e?[e]:[]}function W(e){const a=e.map(t=>({...t,onAfterLeave:U(t.onAfterLeave)}));return H(...a)}function X(e,a,t){if(!e)return!1;const n=a.matched.findIndex(i=>{var r;return((r=i.components)==null?void 0:r.default)===(t==null?void 0:t.type)});return!n||n===-1?!1:a.matched.slice(0,n).some((i,r)=>{var c,s,u;return((c=i.components)==null?void 0:c.default)!==((u=(s=e.matched[r])==null?void 0:s.components)==null?void 0:u.default)})||t&&f({route:a,Component:t})!==f({route:e,Component:t})}const Y={};function Z(e,a){const t=Q;return $(),V(t)}const D=I(Y,[["render",Z]]);export{D as default};
