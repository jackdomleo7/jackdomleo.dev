import{f as O,aa as I,ab as L,ac as S,I as u,W as w,A as F,$ as K,ad as E,z as A,N as M,ae as z,af as p,a3 as H,ag as j,ah as P,ai as W,aj as q,ak as U,al as V,am as $,an as D,F as G,_ as J,j as Q,o as X}from"./DQV97yVo.js";const B=(t="RouteProvider")=>O({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const a=n.renderKey,r=n.route,o={};for(const i in n.route)Object.defineProperty(o,i,{get:()=>a===n.renderKey?n.route[i]:r[i],enumerable:!0});return I(S,L(o)),()=>n.vnode?u(n.vnode,{ref:n.vnodeRef}):n.vnode}}),Y=B(),T=new WeakMap,Z=O({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:n,slots:a,expose:r}){const o=w(),i=F(),d=K(S,null);let _;r({pageRef:i});const l=K(E,null);let s;const v=o.deferHydration();if(o.isHydrating){const e=o.hooks.hookOnce("app:error",v);A().beforeEach(e)}t.pageKey&&M(()=>t.pageKey,(e,y)=>{e!==y&&o.callHook("page:loading:start")});let c=!1;{const e=A().beforeResolve(()=>{c=!1});z(()=>{e()})}return()=>u(V,{name:t.name,route:t.route,...n},{default:e=>{const y=ne(d,e.route,e.Component),k=d&&d.matched.length===e.route.matched.length;if(!e.Component){if(s&&!k)return s;v();return}if(s&&l&&!l.isCurrent(e.route))return s;if(y&&d&&(!l||l?.isCurrent(d)))return k?s:null;const f=p(e,t.pageKey),R=te(d,e.route,e.Component);!o.isHydrating&&_===f&&!R&&H(()=>{c=!0,o.callHook("page:loading:end")}),_=f;const g=!!(t.transition??e.route.meta.pageTransition??j),N=g&&ee([t.transition,e.route.meta.pageTransition,j,{onAfterLeave(){delete o._runningTransition,o.callHook("page:transition:finish",e.Component)}}]),b=t.keepalive??e.route.meta.keepalive??P;return s=W(g&&N,q(b,u(U,{suspensible:!0,onPending:()=>{g&&(o._runningTransition=!0),o.callHook("page:start",e.Component)},onResolve:()=>{H(()=>o.callHook("page:finish",e.Component).then(()=>{if(!c&&!R)return c=!0,o.callHook("page:loading:end")}).finally(v))}},{default:()=>{const C={key:f||void 0,vnode:a.default?ae(a.default,e):e.Component,route:e.route,renderKey:f||void 0,trackRootNodes:g,vnodeRef:i};if(!b)return u(Y,C);const h=e.Component.type,x=h;let m=T.get(x);return m||(m=B(h.name||h.__name),T.set(x,m)),u(m,C)}}))).default(),s}})}});function ee(t){const n=t.filter(Boolean).map(a=>({...a,onAfterLeave:a.onAfterLeave?$(a.onAfterLeave):void 0}));return D(...n)}function ne(t,n,a){if(!t)return!1;const r=n.matched.findIndex(o=>o.components?.default===a?.type);return!r||r===-1?!1:n.matched.slice(0,r).some((o,i)=>o.components?.default!==t.matched[i]?.components?.default)||a&&p({route:n,Component:a})!==p({route:t,Component:a})}function te(t,n,a){return t?n.matched.findIndex(o=>o.components?.default===a?.type)<n.matched.length-1:!1}function ae(t,n){const a=t(n);return a.length===1?u(a[0]):u(G,void 0,a)}const oe={};function re(t,n){const a=Z;return X(),Q(a)}const se=J(oe,[["render",re]]);export{se as default};
