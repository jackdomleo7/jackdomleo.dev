import{_ as Y}from"./BqLBzAA_.js";import{r as C,f as P,g as q,h as I,i as D,k as b,u as V,p as j,q as v,c as _,a as i,b as d,l as z,t as T,m as t,F as H,s as U,j as L,o as g,w as J,d as N,e as F,n as x,v as X,_ as G}from"./Dnyl59BH.js";import{A as O}from"./XmvsuAXK.js";import{p as R}from"./Dazs5LwV.js";var w={},A;function W(){if(A)return w;A=1;var u=C();function n(r,c){return c===void 0&&(c=" "),!r||!r.content||!Array.isArray(r.content)?"":r.content.reduce(function(l,a,k){var e;if(u.helpers.isText(a))e=a.value;else if((u.helpers.isBlock(a)||u.helpers.isInline(a))&&(e=n(a,c),!e.length))return l;var h=r.content[k+1],f=h&&u.helpers.isBlock(h),p=f?c:"";return l+e+p},"")}return w.documentToPlainTextString=n,w}var K=W();const Q={class:"article container container--thinner"},Z={class:"article__title"},ee={class:"article__tags"},te={class:"article__date"},ie=["datetime","title"],se=["innerHTML"],ne=["innerHTML"],le={class:"article__share"},ae=["href"],re=["href"],oe={class:"article__suggested"},ce=P({__name:"[slug]",async setup(u){let n,r;const c=q(),l=I(),a=j(),e=([n,r]=D(()=>L(`article-${l.params.slug}`,m=>m.$contentful.getEntries({content_type:"article",limit:1,"fields.slug":l.params.slug}))),n=await n,r(),n).data.value.items[0];e.fields.body=b(e.fields.body),e.fields.description=b(e.fields.description),e.fields.image=b(e.fields.image);const f=([n,r]=D(()=>L(m=>m.$contentful.getEntries({content_type:"blogDetails",limit:1,select:["fields.articleDisclaimer"]}),"$rpzcfBTaqR")),n=await n,r(),n).data.value.items[0],p=K.documentToPlainTextString(e.fields.body);function M(){navigator.clipboard.writeText(`${a.public.BASE_URL}${l.path}`),window.alert("Link copied")}return V({title:`${e.fields.title} | Blog`,meta:[{name:"author",content:"Jack Domleo"},{name:"description",content:e.fields.description},{property:"og:image",content:v(e.fields.image.fields.file.url)},{property:"og:image:type",content:e.fields.image.fields.file.contentType},{property:"og:type",content:"article"},{property:"article:author",content:"Jack Domleo"},{property:"article:published_time",content:new Date(e.fields.publishDate).toString()},{property:"article:tags",content:e.fields.tags.join(", ")},{name:"twitter:image",content:v(e.fields.image.fields.file.url)}],link:[{rel:"canonical",href:`${a.public.BASE_URL}/blog/${l.params.year}/${l.params.slug}`}],script:[...p.includes("CodePen: ")?[{async:!0,src:"https://static.codepen.io/assets/embed/ei.js"}]:[],...p.includes("Twitter: ")||p.includes("Tweet: ")?[{async:!0,src:"https://platform.twitter.com/widgets.js"}]:[]]}),(m,s)=>{var $;const S=Y,B=F,y=X,E=O;return g(),_("div",Q,[i("article",null,[i("header",null,[i("h1",Z,T(t(e).fields.title),1)]),d(S,{class:"article__img",provider:"contentful",src:t(e).fields.image.fields.file.url,alt:t(e).fields.image.fields.description,width:"768",height:"403",sizes:"4kdesktop:768px",preload:""},null,8,["src","alt"]),i("ul",ee,[(g(!0),_(H,null,U(t(e).fields.tags,o=>(g(),_("li",{key:o,class:"tag"},[d(B,{to:{path:"/blog",query:{filters:o.toLowerCase()}}},{default:J(()=>[N(T(o),1)]),_:2},1032,["to"])]))),128))]),i("p",te,[s[1]||(s[1]=i("strong",null,"Published: ",-1)),i("time",{datetime:t(x)(new Date(t(e).fields.publishDate)).format("YYYY-MM-DD"),title:t(x)(new Date(t(e).fields.publishDate)).format("dddd D MMMM YYYY")},T(t(x)(new Date(t(e).fields.publishDate)).format("MMMM D, YYYY")),9,ie)]),i("div",{class:"rich-text article__content",innerHTML:t(R)(t(e).fields.body,{$img:t(c)})},null,8,se),t(f).fields.articleDisclaimer?(g(),_("div",{key:0,class:"article__disclaimer",innerHTML:t(R)(t(f).fields.articleDisclaimer)},null,8,ne)):z("",!0),i("ul",le,[i("li",null,[i("a",{href:`https://twitter.com/intent/tweet?text=${t(e).fields.title} by Jack Domleo&url=${t(a).public.BASE_URL}${t(l).path}`,rel:"nofollow noopener",target:"_blank","data-cooltipz-dir":"top","aria-label":"Share on X"},[d(y,{name:"twitter"}),s[2]||(s[2]=i("span",{class:"sr-only"},"Share on X/Twitter",-1))],8,ae)]),i("li",null,[i("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${t(a).public.BASE_URL}${t(l).path}&title=${t(e).fields.title}&summary=${t(e).fields.title} by Jack Domleo&source=${t(a).public.BASE_URL}${t(l).path}`,rel:"nofollow noopener",target:"_blank","data-cooltipz-dir":"top","aria-label":"Share on LinkedIn"},[d(y,{name:"linkedin"}),s[3]||(s[3]=i("span",{class:"sr-only"},"Share on LinkedIn",-1))],8,re)]),i("li",null,[i("button",{"data-cooltipz-dir":"top","aria-label":"Copy link",onClick:s[0]||(s[0]=o=>M())},[d(y,{name:"link"}),s[4]||(s[4]=i("span",{class:"sr-only"},"Copy link",-1))])])])]),i("div",oe,[s[5]||(s[5]=i("h2",null,"What to read next",-1)),d(E,{class:"container--thinner",limit:2,suggested:{current:t(e).fields.title,titles:(($=t(e).fields.suggestedArticles)==null?void 0:$.map(o=>(o==null?void 0:o.fields.title)||"").filter(Boolean))||[],tags:t(e).fields.tags||[]}},null,8,["suggested"])])])}}}),me=G(ce,[["__scopeId","data-v-591a7907"]]);export{me as default};
