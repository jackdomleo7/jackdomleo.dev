import{g as B,i as I,z as M,A as j,j as E,k as N,o as a,c as i,b as f,l as r,m as V,a as o,F as v,v as y,n as q,B as z,C as O,w as P,t as d,q as D,D as R,E as G,e as T,p as H,f as J,_ as K}from"./entry.dea70900.js";import{_ as Q}from"./nuxt-picture.a90a8ba0.js";const U=s=>(H("data-v-c6ec590e"),s=s(),J(),s),W={key:0,class:"container"},X={class:"posts container"},Z={class:"post__article"},ee={class:"post__details"},te={class:"post__tags"},se={class:"post__title"},oe={class:"post__description"},le={class:"post__date"},ae=U(()=>o("span",{class:"sr-only"},"Publish date:",-1)),ie=["datetime"],re=B({__name:"ArticleList",props:{limit:{type:Number,default:void 0,validator(s){return s>=0&&s<=1e3}},preloadArticleImages:{type:Number,default:0,validator(s){return s>=0}},showFilter:{type:Boolean,defailt:!1}},async setup(s){let n,m;const u=s,b=R(()=>G(()=>import("./ComboboxInput.02539f74.js"),["./ComboboxInput.02539f74.js","./entry.dea70900.js","./entry.9fecad6d.css","./ComboboxInput.5869c6d5.css"],import.meta.url)),h=I(),C=M(),_=j([]),{data:x}=([n,m]=E(()=>q(e=>e.$contentful.getEntries({content_type:"article",limit:1e3,order:"-fields.publishDate",select:["fields.title","fields.description","fields.image","fields.tags","fields.publishDate","fields.slug"]}),"$GCpc4d31S7")),n=await n,m(),n),c=N(x.value.items);u.limit&&(c.length=u.limit);const L=[...new Set(c.map(e=>e.fields.tags.join(",")).join(",").split(","))].filter(Boolean).sort(),A=[...new Set(c.map(e=>`${new Date(e.fields.publishDate).getFullYear()}`))].filter(Boolean),g=[...L.map(e=>({value:e,text:e})),...A.map(e=>({value:e,text:e}))],F=(h.query.filters?h.query.filters.split(",").map(e=>g.find(l=>l.value.toLowerCase()===e.toLowerCase()||l.text.toLowerCase()===e.toLowerCase())):[]).filter(Boolean);function Y(e){if(!_.value.length||!e.fields.tags.length)return!0;for(const l of _.value)if(e.fields.tags.map(p=>p.toLowerCase()).includes(l.toLowerCase())||`${new Date(e.fields.publishDate).getFullYear()}`===l)return!0;return!1}function S(e){_.value=e,C.replace({query:{filters:e.length?e.join(",").toLowerCase():void 0}})}return(e,l)=>{const p=Q,k=T;return a(),i("div",null,[s.showFilter?(a(),i("div",W,[f(r(b),{id:"filter",label:"Filters",multiselectable:!0,value:r(F),options:g,class:"filter",onSelectedOptions:l[0]||(l[0]=t=>S(t))},null,8,["value"])])):V("",!0),o("ul",X,[(a(!0),i(v,null,y(r(c),(t,$)=>z((a(),i("li",{key:t.sys.id},[f(k,{to:`/blog/${new Date(t.fields.publishDate).getFullYear()}/${t.fields.slug}`,class:"post"},{default:P(()=>[o("article",Z,[f(p,{class:"post__img",provider:"contentful",src:t.fields.image.fields.file.url,alt:t.fields.image.fields.description,width:"424",height:"223",sizes:"4kdesktop:424px",loading:"lazy",preload:$<=u.preloadArticleImages},null,8,["src","alt","preload"]),o("div",ee,[o("ul",te,[(a(!0),i(v,null,y(t.fields.tags,w=>(a(),i("li",{key:w,class:"tag"},d(w),1))),128))]),o("h2",se,d(t.fields.title),1),o("p",oe,d(t.fields.description),1),o("footer",null,[o("p",le,[ae,o("time",{datetime:r(D)(new Date(t.fields.publishDate)).format("YYYY-MM-DD")},d(r(D)(new Date(t.fields.publishDate)).format("MMMM D, YYYY")),9,ie)])])])])]),_:2},1032,["to"])])),[[O,Y(t)]])),128))])])}}});const de=K(re,[["__scopeId","data-v-c6ec590e"]]);export{de as A};
