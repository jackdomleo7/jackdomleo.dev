import{_ as C}from"./CN2Qb3ZG.js";import{p as R,f as I,g as V,h as j,i as x,j as b,u as z,q as v,o as f,c as m,a as i,t as w,k as t,b as p,F as H,r as P,l as U,s as J,m as L,v as q,w as N,d as F,n as k,e as X,_ as G}from"./BQZeWf9W.js";import{A as O}from"./BZrVGAys.js";import{p as A}from"./DpEvW5_8.js";var _=R;function M(d,s){return s===void 0&&(s=" "),!d||!d.content||!Array.isArray(d.content)?"":d.content.reduce(function(o,c,n){var a;if(_.helpers.isText(c))a=c.value;else if((_.helpers.isBlock(c)||_.helpers.isInline(c))&&(a=M(c,s),!a.length))return o;var g=d.content[n+1],e=g&&_.helpers.isBlock(g),$=e?s:"";return o+a+$},"")}var W=M;const K={class:"article container container--thinner"},Q={class:"article__title"},Z={class:"article__tags"},ee={class:"article__date"},te=["datetime","title"],ie=["innerHTML"],se=["innerHTML"],le={class:"article__share"},ne=["href"],ae=["href"],re={class:"article__suggested"},oe=I({__name:"[slug]",async setup(d){let s,o;const c=V(),n=j(),a=J(),e=([s,o]=x(()=>L(`article-${n.params.slug}`,u=>u.$contentful.getEntries({content_type:"article",limit:1,"fields.slug":n.params.slug}))),s=await s,o(),s).data.value.items[0];e.fields.body=b(e.fields.body),e.fields.description=b(e.fields.description),e.fields.image=b(e.fields.image);const D=([s,o]=x(()=>L(u=>u.$contentful.getEntries({content_type:"blogDetails",limit:1,select:["fields.articleDisclaimer"]}),"$rpzcfBTaqR")),s=await s,o(),s).data.value.items[0],h=W(e.fields.body);function B(){navigator.clipboard.writeText(`${a.public.BASE_URL}${n.path}`),window.alert("Link copied")}return z({title:`${e.fields.title} | Blog`,meta:[{name:"author",content:"Jack Domleo"},{name:"description",content:e.fields.description},{property:"og:image",content:v(e.fields.image.fields.file.url)},{property:"og:image:type",content:e.fields.image.fields.file.contentType},{property:"og:type",content:"article"},{property:"article:author",content:"Jack Domleo"},{property:"article:published_time",content:new Date(e.fields.publishDate).toString()},{property:"article:tags",content:e.fields.tags.join(", ")},{name:"twitter:image",content:v(e.fields.image.fields.file.url)}],link:[{rel:"canonical",href:`${a.public.BASE_URL}/blog/${n.params.year}/${n.params.slug}`}],script:[...h.includes("CodePen: ")?[{async:!0,src:"https://static.codepen.io/assets/embed/ei.js"}]:[],...h.includes("Twitter: ")||h.includes("Tweet: ")?[{async:!0,src:"https://platform.twitter.com/widgets.js"}]:[]]}),(u,l)=>{var T;const S=C,E=X,y=q,Y=O;return f(),m("div",K,[i("article",null,[i("header",null,[i("h1",Q,w(t(e).fields.title),1)]),p(S,{class:"article__img",provider:"contentful",src:t(e).fields.image.fields.file.url,alt:t(e).fields.image.fields.description,width:"768",height:"403",sizes:"4kdesktop:768px",preload:""},null,8,["src","alt"]),i("ul",Z,[(f(!0),m(H,null,P(t(e).fields.tags,r=>(f(),m("li",{key:r,class:"tag"},[p(E,{to:{path:"/blog",query:{filters:r.toLowerCase()}}},{default:N(()=>[F(w(r),1)]),_:2},1032,["to"])]))),128))]),i("p",ee,[l[1]||(l[1]=i("strong",null,"Published: ",-1)),i("time",{datetime:t(k)(new Date(t(e).fields.publishDate)).format("YYYY-MM-DD"),title:t(k)(new Date(t(e).fields.publishDate)).format("dddd D MMMM YYYY")},w(t(k)(new Date(t(e).fields.publishDate)).format("MMMM D, YYYY")),9,te)]),i("div",{class:"rich-text article__content",innerHTML:t(A)(t(e).fields.body,{$img:t(c)})},null,8,ie),t(D).fields.articleDisclaimer?(f(),m("div",{key:0,class:"article__disclaimer",innerHTML:t(A)(t(D).fields.articleDisclaimer)},null,8,se)):U("",!0),i("ul",le,[i("li",null,[i("a",{href:`https://twitter.com/intent/tweet?text=${t(e).fields.title} by Jack Domleo&url=${t(a).public.BASE_URL}${t(n).path}`,rel:"nofollow noopener",target:"_blank","data-cooltipz-dir":"top","aria-label":"Share on X"},[p(y,{name:"twitter"}),l[2]||(l[2]=i("span",{class:"sr-only"},"Share on X/Twitter",-1))],8,ne)]),i("li",null,[i("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${t(a).public.BASE_URL}${t(n).path}&title=${t(e).fields.title}&summary=${t(e).fields.title} by Jack Domleo&source=${t(a).public.BASE_URL}${t(n).path}`,rel:"nofollow noopener",target:"_blank","data-cooltipz-dir":"top","aria-label":"Share on LinkedIn"},[p(y,{name:"linkedin"}),l[3]||(l[3]=i("span",{class:"sr-only"},"Share on LinkedIn",-1))],8,ae)]),i("li",null,[i("button",{"data-cooltipz-dir":"top","aria-label":"Copy link",onClick:l[0]||(l[0]=r=>B())},[p(y,{name:"link"}),l[4]||(l[4]=i("span",{class:"sr-only"},"Copy link",-1))])])])]),i("div",re,[l[5]||(l[5]=i("h2",null,"What to read next",-1)),p(Y,{class:"container--thinner",limit:2,suggested:{current:t(e).fields.title,titles:((T=t(e).fields.suggestedArticles)==null?void 0:T.map(r=>(r==null?void 0:r.fields.title)||"").filter(Boolean))||[],tags:t(e).fields.tags||[]}},null,8,["suggested"])])])}}}),fe=G(oe,[["__scopeId","data-v-591a7907"]]);export{fe as default};
