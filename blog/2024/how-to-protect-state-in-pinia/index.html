<!DOCTYPE html><html  lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><title>How to protect state in Pinia | Blog | Jack Domleo - Senior Frontend &amp; UX Developer</title><style>.page[data-v-34b8a69f]{display:flex;flex-direction:column;min-height:100vh}.page main[data-v-34b8a69f]{flex:1;margin-top:9rem}@media (min-width:48em){.page main[data-v-34b8a69f]{margin-top:8rem}}</style><style>.nav[data-v-2af0234a]{--nav-break:62.5em;background-color:var(--color-bg);box-shadow:0 0 .5rem transparent;color:var(--color-primary);height:4rem;position:fixed;transition:.36s ease;transition-property:box-shadow,background-color;width:100vw;will-change:box-shadow,background-color;z-index:999;z-index:99}.nav--sticky[data-v-2af0234a]{background-color:var(--color-fg1);box-shadow:var(--shadow)}.nav--sticky .nav__logo[data-v-2af0234a]{top:50%;transform:translate(-50%,-50%);width:3.5rem}.nav__wrapper[data-v-2af0234a]{align-items:stretch;background-color:inherit;display:flex;gap:1rem;height:100%;justify-content:space-between;padding:.25rem 2rem;position:relative;z-index:1}@media (min-width:62.5em){.nav__wrapper[data-v-2af0234a]{margin-inline:auto;max-width:104rem;padding-inline:10rem}}.nav__name[data-v-2af0234a]{align-items:center;color:var(--color-primary)!important;cursor:pointer;display:inline-flex;font-size:var(--text-body);text-decoration:none}@media (min-width:28.125rem){.nav__name[data-v-2af0234a]{font-size:var(--text-large)}}.nav__logo[data-v-2af0234a]{left:50%;position:absolute;top:80%;transform:translate(-50%);transition-property:top,transform,width;transition:.36s ease;width:5rem;will-change:top,transform,width}.nav__primary[data-v-2af0234a]{display:flex}.nav__primary-list[data-v-2af0234a]{list-style-type:none;margin:0;padding-left:0;padding-block:.25rem}.nav__item[data-v-2af0234a]{display:inline-flex;font-size:var(--text-large);height:100%;padding-inline:.25rem}@media (forced-colors:active){.nav__item[data-v-2af0234a]{border:1px solid transparent}}.nav__item:focus-within ul[data-v-2af0234a],.nav__item:hover ul[data-v-2af0234a]{opacity:1;visibility:visible}.nav__item-chevron[data-v-2af0234a]{display:grid;height:1rem;place-items:center;width:1rem}.nav__item>div[data-v-2af0234a]{cursor:default}.nav__item>a[data-v-2af0234a],.nav__item>div[data-v-2af0234a]{align-items:center;border-bottom:1px solid transparent;border-top:1px solid transparent;color:var(--color-primary);display:inline-flex;gap:.25rem;height:100%;justify-content:center;min-width:4rem;padding-block:.25rem;text-align:center;text-decoration:none;transition-property:color,border-color;transition:.16s ease;width:100%;will-change:color,border-color}.nav__item>a[data-v-2af0234a]:focus,.nav__item>a[data-v-2af0234a]:hover,.nav__item>div[data-v-2af0234a]:focus,.nav__item>div[data-v-2af0234a]:hover{border-bottom-color:var(--color-accent)}.nav__item>a:focus+ul[data-v-2af0234a],.nav__item>a:hover+ul[data-v-2af0234a],.nav__item>div:focus+ul[data-v-2af0234a],.nav__item>div:hover+ul[data-v-2af0234a]{opacity:1;visibility:visible}.nav__item ul[data-v-2af0234a]{background-color:var(--color-bg);box-shadow:var(--shadow);display:flex;flex-direction:column;font-size:var(--text-body);gap:.5rem;list-style-type:none;margin:0;opacity:0;padding:.5rem 1.5rem;position:absolute;top:100%;transition-property:opacity,visibility;transition:.16s ease;visibility:hidden;will-change:opacity,visibility}.nav__item ul li[data-v-2af0234a]{width:100%}.nav__item ul a[data-v-2af0234a]{align-items:center;color:var(--color-primary);display:flex;justify-content:flex-start;padding:.5rem;padding-block:.25rem;text-decoration:none}.nav__item ul a[data-v-2af0234a]:hover{text-decoration:underline;text-decoration-color:var(--color-accent);text-decoration-thickness:2px}.nav__hamburger[data-v-2af0234a]{align-items:center;background-color:transparent;border:none;cursor:pointer;display:flex;height:1.9375rem;justify-content:center;margin:1rem 0;width:3.375rem}@media (forced-colors:active){.nav__hamburger[data-v-2af0234a]{border:1px solid ButtonText}}.nav__hamburger-icon[data-v-2af0234a]{cursor:pointer;height:1.1rem;position:relative;transform:rotate(0);width:1.3rem;z-index:2}.nav__hamburger-icon span[data-v-2af0234a]{background-color:var(--color-primary);border-radius:var(--border-radius-standard);display:block;height:.125rem;left:0;opacity:1;position:absolute;transform:rotate(0);transition:.25s ease-in-out;width:100%}@media (forced-colors:active){.nav__hamburger-icon span[data-v-2af0234a]{background-color:ButtonText}}.nav__hamburger-icon span[data-v-2af0234a]:first-child{top:0}.nav__hamburger-icon span[data-v-2af0234a]:nth-child(2),.nav__hamburger-icon span[data-v-2af0234a]:nth-child(3){top:45%}.nav__hamburger-icon span[data-v-2af0234a]:nth-child(4){top:90%}.nav__hamburger--open .nav__hamburger-icon span[data-v-2af0234a]:first-child,.nav__hamburger--open .nav__hamburger-icon span[data-v-2af0234a]:nth-child(4){left:50%;top:45%;width:0}.nav__hamburger--open .nav__hamburger-icon span[data-v-2af0234a]:nth-child(2){transform:rotate(45deg)}.nav__hamburger--open .nav__hamburger-icon span[data-v-2af0234a]:nth-child(3){transform:rotate(-45deg)}.nav__more[data-v-2af0234a]{background-color:var(--color-bg);border-top:0 solid var(--color-accent);box-shadow:var(--shadow);height:0;left:50%;list-style-type:none;margin:0;max-height:24rem;min-width:18rem;overflow:hidden;padding:0 3rem;position:absolute;top:100%;transform:translate(-50%);transition-property:height,padding,border;transition:.26s ease;visibility:hidden;will-change:height,padding,border}@media (forced-colors:active){.nav__more[data-v-2af0234a]{border:1px solid transparent}}.nav__more--open[data-v-2af0234a]{border-top-width:4px;height:-moz-max-content;height:max-content;overflow-y:auto;overscroll-behavior:contain;padding-block:1rem;visibility:visible}.nav__more li[data-v-2af0234a]:not(:last-of-type){border-bottom:1px solid var(--color-fg1)}@media (forced-colors:active){.nav__more li[data-v-2af0234a]{border:1px solid transparent}}.nav__more a[data-v-2af0234a]{color:var(--color-primary);display:flex;padding:.5rem;text-decoration:none}.nav a.nuxt-link-active[data-v-2af0234a]{color:var(--color-accent)}</style><style>@charset "UTF-8";.rich-text[data-v-6b8aec45] h2{font-size:var(--text-subtitle);margin-bottom:1rem;margin-top:5rem}.rich-text[data-v-6b8aec45] h3{font-size:var(--text-heading);margin-bottom:.5rem;margin-top:4rem}.rich-text[data-v-6b8aec45] h4{font-size:var(--text-large);margin-bottom:.25rem;margin-top:3rem}.rich-text[data-v-6b8aec45] h2 a,.rich-text[data-v-6b8aec45] h3 a,.rich-text[data-v-6b8aec45] h4 a,.rich-text[data-v-6b8aec45] h5 a,.rich-text[data-v-6b8aec45] h6 a{color:inherit;text-decoration:none}.rich-text[data-v-6b8aec45] p:empty{display:none}.rich-text[data-v-6b8aec45] hr{margin-block:3rem}.rich-text[data-v-6b8aec45] ol,.rich-text[data-v-6b8aec45] ul{margin-bottom:1.5rem;margin-top:.75rem;padding-left:1.5rem}.rich-text[data-v-6b8aec45] ol p,.rich-text[data-v-6b8aec45] ul p{margin:0}.rich-text[data-v-6b8aec45] ol li,.rich-text[data-v-6b8aec45] ul li{margin-block:.5rem}.rich-text[data-v-6b8aec45] ol li:first-child,.rich-text[data-v-6b8aec45] ul li:first-child{margin-top:0}.rich-text[data-v-6b8aec45] ol li:last-child,.rich-text[data-v-6b8aec45] ul li:last-child{margin-bottom:0}.rich-text[data-v-6b8aec45] pre:has(code){background-color:var(--color-fg1);border-radius:var(--border-radius-standard);margin-block:2rem;overflow-x:auto;padding:1rem}.rich-text[data-v-6b8aec45] .table{margin-block:2rem;overflow-x:auto}.rich-text[data-v-6b8aec45] .table table{border:0;border-collapse:collapse;border-spacing:0;width:100%}.rich-text[data-v-6b8aec45] .table th{border-bottom:2px solid var(--color-primary)}.rich-text[data-v-6b8aec45] .table tbody tr:nth-child(2n){background-color:var(--color-fg1)}.rich-text[data-v-6b8aec45] .table td,.rich-text[data-v-6b8aec45] .table th{min-width:14rem;padding:1rem .5rem;vertical-align:top}.rich-text[data-v-6b8aec45] .table th{font-weight:700;text-align:left}.rich-text[data-v-6b8aec45] .table p{margin:0}.rich-text[data-v-6b8aec45] .youtube{min-height:25rem}.rich-text[data-v-6b8aec45] .codepen,.rich-text[data-v-6b8aec45] .cp_embed_iframe{border:1px solid var(--colour-primary);display:grid;height:40rem;max-height:80vh;min-height:20rem;place-items:center;width:100%}.rich-text[data-v-6b8aec45] blockquote{background-color:var(--color-bg);display:inline-block;margin:0;padding:1rem 1rem 1rem 4rem;position:relative}.rich-text[data-v-6b8aec45] blockquote:after{color:var(--color-accent-faint);content:"“";font-family:sans-serif;font-size:8rem;left:0;line-height:1;pointer-events:none;position:absolute;top:-.75rem;transform:rotate(8deg);z-index:0}.rich-text[data-v-6b8aec45] blockquote cite{display:block;font-style:italic;text-align:right}.article[data-v-6b8aec45]{font-size:var(--text-body);padding:1rem}@media (min-width:48em){.article[data-v-6b8aec45]{margin-top:2rem}}.article__title[data-v-6b8aec45]{font-size:var(--text-subtitle);margin-bottom:1rem;margin-top:0;text-transform:uppercase}.article__img[data-v-6b8aec45]{display:block;margin-block:2rem}.article__img[data-v-6b8aec45] img{border-radius:var(--border-radius-standard)}.article__tags[data-v-6b8aec45]{align-items:center;display:flex;flex-wrap:wrap;gap:1rem;list-style-type:none;margin-bottom:1rem;margin-top:0;padding:0}.article__tags>li[data-v-6b8aec45]:not(:first-of-type){position:relative}.article__tags>li[data-v-6b8aec45]:not(:first-of-type):before{content:"•";display:block;left:-.75rem;position:absolute;top:50%;transform:translateY(-50%)}.article__date[data-v-6b8aec45]{margin:0}.article__content[data-v-6b8aec45]{margin-top:3rem}.article__disclaimer[data-v-6b8aec45]{font-size:var(--text-small);margin-top:3rem}.article__share[data-v-6b8aec45]{display:inline-flex;gap:.5rem;list-style-type:none;margin:2rem 0 0 auto;padding-left:0}.article__share a[data-v-6b8aec45],.article__share button[data-v-6b8aec45]{background-color:#000;border:none;border-radius:50%;color:#fff;cursor:pointer;display:grid;height:2rem;padding:.375rem;place-items:center;width:2rem}@media (forced-colors:active){.article__share a[data-v-6b8aec45],.article__share button[data-v-6b8aec45]{border:1px solid transparent}}.article__suggested[data-v-6b8aec45]{margin-top:4rem}.article__suggested h2[data-v-6b8aec45]{font-size:var(--text-subtitle)}.tag[data-v-6b8aec45]{color:var(--color-accent)}</style><style>.footer[data-v-f4981b20]{display:flex;flex-direction:column;margin-top:8rem;margin-inline:auto;max-width:32rem;min-width:100%;padding:2rem 1rem}@media (min-width:40em){.footer[data-v-f4981b20]{min-width:32rem;padding-inline:2rem}}.footer__logo[data-v-f4981b20]{margin-inline:auto;width:3.625rem}.footer__quick-links[data-v-f4981b20]{align-items:center;display:flex;gap:.5rem;justify-content:center;list-style-type:none;margin-block:1.5rem;padding-left:0}@media (min-width:40em){.footer__quick-links[data-v-f4981b20]{gap:1rem}}.footer__quick-links a[data-v-f4981b20]{color:var(--color-primary);text-decoration:none}.footer__quick-links a[data-v-f4981b20]:active,.footer__quick-links a[data-v-f4981b20]:hover{text-decoration:underline;text-decoration-color:var(--color-accent);text-decoration-thickness:2px}.footer__social[data-v-f4981b20]{align-items:center;display:flex;gap:1rem;justify-content:center;list-style-type:none;margin-bottom:1.5rem;margin-top:0;padding-left:0}.footer__social a[data-v-f4981b20]{aspect-ratio:auto 1/1;background-color:var(--color-bg);border:1px solid var(--color-primary);border-radius:50%;color:var(--color-primary);display:grid;outline-offset:2px;padding:.375rem;place-items:center;transition:all var(--standard-animation-timing) ease;width:2.5rem}.footer__social-icon[data-v-f4981b20]{height:1.5rem;width:1.5rem}.footer__legal[data-v-f4981b20]{line-height:1.3;margin-block:0;text-align:center}@media (min-width:40em){.footer__legal[data-v-f4981b20]{display:flex;flex-flow:wrap;gap:.25rem;justify-content:center;line-height:unset}}</style><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.DpNC3NRY.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/2024/how-to-protect-state-in-pinia/_payload.json?e5b0ec0c-2713-4ea7-af58-068b8274a5e4"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/blvdWXj3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BhiljhHM.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CgJlN0GJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CGRIrGfz.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/i_Acgmco.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/l_c7N7x3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/OqpKfg9X.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D_G_RFTp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D9YOQnhF.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Axip1Up3.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/e5b0ec0c-2713-4ea7-af58-068b8274a5e4.json"><link rel="prefetch" as="script" crossorigin href="/_nuxt/Da_bcd_3.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/NyQyaQs3.js"><link rel="icon" href="/icon.png" type="image/png" sizes="500x473"><meta name="theme-color" content="#1b2024" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#fbfaf9" media="(prefers-color-scheme: light)"><meta name="author" content="Jack Domleo"><meta name="color-scheme" content="dark light"><meta name="format-detection" content="telephone=no"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="630"><meta property="og:image:width" content="1200"><meta name="google-site-verification" content="HvfUFnpoWCO9iiPCIT1lfhLf555vptzDdIsBIl2s0BY"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><link rel="canonical" href="https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia"><meta name="description" content="Pinia, unlike Vuex, allows the state to be mutated directly, but sometimes we want to protect the state from being changed willy-nilly."><meta property="og:image" content="https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia/cover_image.webp"><meta name="twitter:image" content="https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia/cover_image.webp"><meta property="og:type" content="article"><meta property="article:author" content="Jack Domleo"><meta property="article:section" content="Web Development"><meta property="article:tag" content="Vue"><meta property="article:published_time" content="2024-04-07"><meta property="article:modified_time" content="2024-04-07"><script type="module" src="/_nuxt/blvdWXj3.js" crossorigin></script><meta name="twitter:card" content="summary_large_image"><meta property="og:title" data-infer="" content="How to protect state in Pinia | Blog | Jack Domleo - Senior Frontend & UX Developer"><meta property="og:description" data-infer="" content="Pinia, unlike Vuex, allows the state to be mutated directly, but sometimes we want to protect the state from being changed willy-nilly."><meta property="og:url" content="https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia"><meta property="og:site_name" content="Jack Domleo - Senior Frontend & UX Developer"></head><body><div id="__nuxt"><div class="page" data-v-34b8a69f><nav class="nav nav--sticky" data-v-34b8a69f data-v-2af0234a><div class="nav__wrapper" data-v-2af0234a><a href="/" class="nav__name" data-v-2af0234a> Jack Domleo <span class="sr-only" data-v-2af0234a> - Home</span></a><a href="/" class="nav__logo" data-v-2af0234a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom" style="" width="1.06em" height="1em" viewBox="0 0 282.26 266.99" data-v-2af0234a><path fill="#fff" d="M226.39 155.22a55.39 55.39 0 0 0-29.46 8.59V0h-95.89v166.85c0 1.28-.08 2.3-.15 3h-.23s-1.22-1.26-2.37-5.52l-8.56-31.77L0 169.49l7.77 25.26c6.55 21.25 18.52 38.3 35.58 50.66 16.89 12.23 36.67 18.44 58.78 18.44a103.8 103.8 0 0 0 35.66-6.11 87.32 87.32 0 0 0 31.07-19.34 87 87 0 0 0 5.66-6.84 55.83 55.83 0 1 0 51.87-76.38Z"/><path fill="#000" d="M55.11 229.18c13.39 9.71 29.2 14.62 47 14.62a83.58 83.58 0 0 0 28.79-4.9 67.21 67.21 0 0 0 24-14.9 70.87 70.87 0 0 0 16.11-24.41c3.88-9.57 5.85-20.68 5.85-33V20.09h-55.75v146.76c0 7.89-1.73 13.89-5.15 17.82-3.19 3.69-7.59 5.4-13.85 5.4-5.81 0-10.49-1.54-14.34-4.74s-7-8.58-8.9-15.73l-2.62-9.73-51.68 21.27 2.38 7.74c5.26 17.01 14.75 30.56 28.16 40.3Z"/><path fill="var(--color-accent, #000)" d="M226.39 246.89a35.79 35.79 0 1 0-35.79-35.79 35.79 35.79 0 0 0 35.79 35.79Z"/></svg><span class="sr-only" data-v-2af0234a>Home</span></a><div class="nav__primary" data-v-2af0234a><ul class="nav__primary-list" data-v-2af0234a><!--[--><li class="nav__item" data-v-2af0234a><a href="/projects" class="" data-v-2af0234a><span data-v-2af0234a>Projects</span></a><!----></li><li class="nav__item" data-v-2af0234a><a href="/work" class="" data-v-2af0234a><span data-v-2af0234a>Work</span></a><!----></li><li class="nav__item" data-v-2af0234a><div tabindex="0" data-v-2af0234a><span data-v-2af0234a>More</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom nav__item-chevron" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-2af0234a><g fill="currentColor"><path fill="none" d="M24 24H0V0h24v24z" opacity=".87"/><path d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"/></g></svg></div><ul data-v-2af0234a><!--[--><li data-v-2af0234a><a href="/blog" class="" data-v-2af0234a>Blog</a></li><li data-v-2af0234a><a href="/links" class="" data-v-2af0234a>Links</a></li><!--]--></ul></li><!--]--></ul></div><!----></div><!----></nav><main data-v-34b8a69f><div class="article container container--thinner" data-v-6b8aec45><article data-v-6b8aec45><header data-v-6b8aec45><h1 class="article__title" data-v-6b8aec45>How to protect state in Pinia</h1></header><picture class="article__img" data-v-6b8aec45><source srcset="/blog/2024/how-to-protect-state-in-pinia/cover_image.webp" type="image/webp" data-v-6b8aec45><img src="/blog/2024/how-to-protect-state-in-pinia/cover_image.webp" alt="" width="768" height="403" loading="eager" data-v-6b8aec45></picture><ul class="article__tags" data-v-6b8aec45><!--[--><li class="tag" data-v-6b8aec45><a href="/blog?filters=vue" class="" data-v-6b8aec45>Vue</a></li><!--]--></ul><p class="article__date" data-v-6b8aec45><strong data-v-6b8aec45>Published: </strong><time datetime="2024-04-07" title="Sunday 7 April 2024" data-v-6b8aec45>April 7, 2024</time></p><div class="rich-text article__content" data-v-6b8aec45><p><!--[--><a href="https://pinia.vuejs.org/" rel="nofollow"><!--[-->Pinia<!--]--></a> is a relatively new state management tool for the Vue ecosystem. It is the new preferred state management tool recommended by the Vue core team replacing Vuex. Compared to <a href="https://vuex.vuejs.org/" rel="nofollow"><!--[-->Vuex<!--]--></a>, Pinia is type-safe by default (<a href="https://github.com/paroi-tech/direct-vuex" rel="nofollow"><!--[-->direct-vuex<!--]--></a> was needed to make Vuex type-safe), extremely lightweight, and modular by design (meaning you can create multiple stores instead of multiple modules inside one store, which optimises performance). Similar to Vuex, Pinia has state, computed properties (getters) and methods (mutations and actions). <em><!--[-->Read more about Pinia and its usage to understand the similarities and differences between Pinia and Vuex.<!--]--></em><!--]--></p><p><!--[-->Vuex&#39;s state is automatically protected, whereas Pinia&#39;s state is not. In Vuex, you could not directly edit the state, to do so you needed a mutation method that would edit or &quot;mutate&quot; the state for you. If you tried editing the state directly in Vuex, you would be faced with the following error message, <code><!--[-->&quot;Error: [vuex] do not mutate vuex store state outside mutation handlers.&quot;<!--]--></code><!--]--></p><p><!--[-->But with Pinia, the state is exposed and can be mutated willy nilly from anywhere within your application. In a lot of cases, this is fine and actually makes state management a lot easier and simpler because in these cases there is no need for a mutation method whose sole purpose is to update a state property with the value you passed to the mutation method.<!--]--></p><p><!--[-->In some cases though, this might not be ideal. For example, we are building a rugby game in Vue (it&#39;s just an example, go with it). Unlike with football (or soccer for you Americans) where the scoring system increments by 1 whenever a goal is scored, rugby&#39;s scoring system increases by a different number depending on how those points were scored. 5 points for a try, 3 points for a penalty, 2 points for a conversion, and 3 points for a drop goal.<!--]--></p><p><!--[-->We want to be able to protect the score state property by only allowing it to be mutated in a specific way. We can easily do this by creating an exposed computed property that returns the state, and not exposing the state property.<!--]--></p><pre class="language-ts shiki shiki-themes min-dark" style=""><!--[--><code><span class="line" line="1"><span class="snl16">import</span><span class="svObZ"> { defineStore } </span><span class="snl16">from</span><span class="s9osk"> &#39;pinia&#39;</span><span class="svObZ">;
</span></span><span class="line" line="2"><span class="snl16">import</span><span class="svObZ"> { ref</span><span class="soy-K">,</span><span class="svObZ"> computed } </span><span class="snl16">from</span><span class="s9osk"> &#39;vue&#39;</span><span class="svObZ">;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="snl16">export</span><span class="snl16"> const</span><span class="sDLfK"> useRugbyStore</span><span class="snl16"> =</span><span class="svObZ"> defineStore(</span><span class="s9osk">&#39;rugbyStory&#39;</span><span class="soy-K">,</span><span class="svObZ"> () </span><span class="snl16">=&gt;</span><span class="svObZ"> {
</span></span><span class="line" line="5"><span class="snl16">  const</span><span class="sDLfK"> _score</span><span class="snl16"> =</span><span class="svObZ"> ref&lt;</span><span class="sDLfK">number</span><span class="svObZ">&gt;(</span><span class="splxs">0</span><span class="svObZ">);
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="snl16">  const</span><span class="sDLfK"> score</span><span class="snl16"> =</span><span class="svObZ"> computed(() </span><span class="snl16">=&gt;</span><span class="sDLfK"> _score</span><span class="svObZ">.value);
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="snl16">  function</span><span class="svObZ"> scorePoints(type</span><span class="snl16">:</span><span class="s9osk"> &#39;try&#39;</span><span class="snl16">|</span><span class="s9osk">&#39;penalty&#39;</span><span class="snl16">|</span><span class="s9osk">&#39;conversion&#39;</span><span class="snl16">|</span><span class="s9osk">&#39;drop goal&#39;</span><span class="svObZ">)</span><span class="snl16">:</span><span class="sDLfK"> void</span><span class="svObZ"> {
</span></span><span class="line" line="10"><span class="snl16">    switch</span><span class="svObZ"> (type) {
</span></span><span class="line" line="11"><span class="snl16">      case</span><span class="s9osk"> &#39;try&#39;</span><span class="svObZ">:
</span></span><span class="line" line="12"><span class="sDLfK">        _score</span><span class="svObZ">.value </span><span class="snl16">+=</span><span class="splxs"> 5</span><span class="svObZ">;
</span></span><span class="line" line="13"><span class="snl16">        break</span><span class="svObZ">;
</span></span><span class="line" line="14"><span class="snl16">      case</span><span class="s9osk"> &#39;penalty&#39;</span><span class="svObZ">:
</span></span><span class="line" line="15"><span class="snl16">      case</span><span class="s9osk"> &#39;drop goal&#39;</span><span class="svObZ">:
</span></span><span class="line" line="16"><span class="sDLfK">        _score</span><span class="svObZ">.value </span><span class="snl16">+=</span><span class="splxs"> 3</span><span class="svObZ">;
</span></span><span class="line" line="17"><span class="snl16">        break</span><span class="svObZ">;
</span></span><span class="line" line="18"><span class="snl16">      case</span><span class="s9osk"> &#39;conversion&#39;</span><span class="svObZ">:
</span></span><span class="line" line="19"><span class="sDLfK">        _score</span><span class="svObZ">.value </span><span class="snl16">+=</span><span class="splxs"> 2</span><span class="svObZ">;
</span></span><span class="line" line="20"><span class="snl16">        break</span><span class="svObZ">;
</span></span><span class="line" line="21"><span class="svObZ">    }
</span></span><span class="line" line="22"><span class="svObZ">  }
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span class="snl16">  return</span><span class="svObZ"> { score</span><span class="soy-K">,</span><span class="svObZ"> scorePoints };
</span></span><span class="line" line="25"><span class="svObZ">})
</span></span></code><!--]--></pre><p><!--[-->In the example above, <code><!--[-->_score<!--]--></code> (annotated prefixed with an underscore to show it is internal) can be read via the score computed property, but cannot be mutated directly. Since score is a computed property, Vue does not allow its value to be changed, if you try editing the value of score, you will get the following TypeScript error, <code><!--[-->&quot;Cannot assign to &quot;score&quot; because it is a read-only property.&quot;<!--]--></code><!--]--></p><p><!--[-->One caveat to this though is that score or _score will never appear in Pinia&#39;s global state or in the Vue devtools Pinia panel, so keep this in mind.<!--]--></p><p><!--[-->I feel this is quite a simple, neat, easy-to-maintain, and type-safe method of protecting Pinia state. I have found other methods of protecting state such as <a href="https://github.com/vuejs/pinia/issues/58#issuecomment-983284955" rel="nofollow"><!--[-->this example<!--]--></a> using Vue&#39;s <code><!--[-->readonly()<!--]--></code> method but I didn&#39;t find this to be type-safe or very nice to use.<!--]--></p><style>html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}html pre.shiki code .soy-K, html code.shiki .soy-K{--shiki-default:#BBBBBB}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html pre.shiki code .splxs, html code.shiki .splxs{--shiki-default:#F8F8F8}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><p class="article__disclaimer" data-v-6b8aec45> Disclaimer: All data and information are correct to the best of my knowledge at the time of writing. I use AI to assist with proofreading and fact-checking. </p><ul class="article__share" data-v-6b8aec45><li data-v-6b8aec45><a href="https://twitter.com/intent/tweet?text=How to protect state in Pinia by Jack Domleo&amp;url=https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia" rel="nofollow noopener" target="_blank" data-cooltipz-dir="top" aria-label="Share on X" data-v-6b8aec45><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6b8aec45><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg><span class="sr-only" data-v-6b8aec45>Share on X/Twitter</span></a></li><li data-v-6b8aec45><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia&amp;title=How to protect state in Pinia&amp;summary=Pinia, unlike Vuex, allows the state to be mutated directly, but sometimes we want to protect the state from being changed willy-nilly. by Jack Domleo&amp;source=https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia" rel="nofollow noopener" target="_blank" data-cooltipz-dir="top" aria-label="Share on LinkedIn" data-v-6b8aec45><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom" style="" width="0.88em" height="1em" viewBox="0 0 448 512" data-v-6b8aec45><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg><span class="sr-only" data-v-6b8aec45>Share on LinkedIn</span></a></li><li data-v-6b8aec45><button data-cooltipz-dir="top" aria-label="Copy link" data-v-6b8aec45><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom" style="" width="1.25em" height="1em" viewBox="0 0 640 512" data-v-6b8aec45><path d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0l112.3-112.3zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"/></svg><span class="sr-only" data-v-6b8aec45>Copy link</span></button></li></ul></article></div></main><footer class="footer" data-v-34b8a69f data-v-f4981b20><a href="/" class="footer__logo" data-v-f4981b20><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom" style="" width="1.06em" height="1em" viewBox="0 0 282.26 266.99" data-v-f4981b20><path fill="#fff" d="M226.39 155.22a55.39 55.39 0 0 0-29.46 8.59V0h-95.89v166.85c0 1.28-.08 2.3-.15 3h-.23s-1.22-1.26-2.37-5.52l-8.56-31.77L0 169.49l7.77 25.26c6.55 21.25 18.52 38.3 35.58 50.66 16.89 12.23 36.67 18.44 58.78 18.44a103.8 103.8 0 0 0 35.66-6.11 87.32 87.32 0 0 0 31.07-19.34 87 87 0 0 0 5.66-6.84 55.83 55.83 0 1 0 51.87-76.38Z"/><path fill="#000" d="M55.11 229.18c13.39 9.71 29.2 14.62 47 14.62a83.58 83.58 0 0 0 28.79-4.9 67.21 67.21 0 0 0 24-14.9 70.87 70.87 0 0 0 16.11-24.41c3.88-9.57 5.85-20.68 5.85-33V20.09h-55.75v146.76c0 7.89-1.73 13.89-5.15 17.82-3.19 3.69-7.59 5.4-13.85 5.4-5.81 0-10.49-1.54-14.34-4.74s-7-8.58-8.9-15.73l-2.62-9.73-51.68 21.27 2.38 7.74c5.26 17.01 14.75 30.56 28.16 40.3Z"/><path fill="var(--color-accent, #000)" d="M226.39 246.89a35.79 35.79 0 1 0-35.79-35.79 35.79 35.79 0 0 0 35.79 35.79Z"/></svg></a><ul class="footer__quick-links" data-v-f4981b20><!--[--><li data-v-f4981b20><a href="/projects" class="" data-v-f4981b20>Projects</a></li><li data-v-f4981b20><a href="/work" class="" data-v-f4981b20>Work</a></li><li data-v-f4981b20><a href="/blog" class="" data-v-f4981b20>Blog</a></li><li data-v-f4981b20><a href="/links" class="" data-v-f4981b20>Links</a></li><!--]--></ul><ul class="footer__social" data-v-f4981b20><!--[--><li data-v-f4981b20><a href="https://github.com/jackdomleo7" rel="noopener noreferrer" target="_blank" data-cooltipz-dir="top" aria-label="GitHub" data-v-f4981b20><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom footer__social-icon" style="" width="0.97em" height="1em" viewBox="0 0 496 512" data-v-f4981b20><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg><span class="sr-only" data-v-f4981b20>GitHub</span></a></li><li data-v-f4981b20><a href="https://codepen.io/jackdomleo7" rel="noopener noreferrer" target="_blank" data-cooltipz-dir="top" aria-label="CodePen" data-v-f4981b20><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom footer__social-icon" style="" width="1em" height="1em" viewBox="0 0 512 512" data-v-f4981b20><path fill="currentColor" d="m502.285 159.704-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001-55.143-36.857L468 219.132v73.714z"/></svg><span class="sr-only" data-v-f4981b20>CodePen</span></a></li><li data-v-f4981b20><a href="https://linkedin.com/in/jackdomleo7" rel="noopener noreferrer" target="_blank" data-cooltipz-dir="top" aria-label="LinkedIn" data-v-f4981b20><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--custom footer__social-icon" style="" width="0.88em" height="1em" viewBox="0 0 448 512" data-v-f4981b20><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg><span class="sr-only" data-v-f4981b20>LinkedIn</span></a></li><!--]--></ul><p class="footer__legal" data-v-f4981b20><a href="/privacy-policy" class="link" data-v-f4981b20>Privacy Policy</a></p><div class="footer__legal" data-v-f4981b20><p data-v-f4981b20>©2018-2025</p><p data-v-f4981b20>All rights reserved.</p><p data-v-f4981b20>Jack Domleo</p></div></footer></div></div><div id="teleports"></div><script type="application/ld+json" data-nuxt-schema-org="true" data-hid="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://jackdomleo.dev/#website","@type":"WebSite","description":"Jack Domleo's personal website and blog","inLanguage":"en-GB","name":"Jack Domleo - Senior Frontend & UX Developer","url":"https://jackdomleo.dev/","publisher":{"@id":"https://jackdomleo.dev/#identity"}},{"@id":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia#webpage","@type":"WebPage","description":"Pinia, unlike Vuex, allows the state to be mutated directly, but sometimes we want to protect the state from being changed willy-nilly.","name":"How to protect state in Pinia | Blog","url":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia","about":{"@id":"https://jackdomleo.dev/#identity"},"isPartOf":{"@id":"https://jackdomleo.dev/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia"]}]},{"@id":"https://jackdomleo.dev/#identity","@type":"Person","jobTitle":"Senior Frontend & UX Developer","name":"Jack Domleo","url":"https://jackdomleo.dev","address":{"type":"PostalAddress","addressRegion":"Nottinghamshire","addressCountry":"UK"},"image":{"@id":"https://jackdomleo.dev/#/schema/image/5f7db08"},"knowsAbout":["Vue.js","Nuxt.js","TypeScript","SCSS","Frontend Development","UX Design","Web Accessibility","Storybook","Vite","Vitest"],"sameAs":["https://linkedin.com/in/jackdomleo7/","https://github.com/jackdomleo7","https://codepen.io/jackdomleo7"],"worksFor":{"type":"Organization","name":"Ocean Finance","url":"https://www.oceanfinance.co.uk"}},{"@id":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia#/schema/blog-posting/47224af","@type":"BlogPosting","articleSection":"Web Development","dateModified":"2024-04-07T00:00:00.000Z","datePublished":"2024-04-07T00:00:00.000Z","description":"Pinia, unlike Vuex, allows the state to be mutated directly, but sometimes we want to protect the state from being changed willy-nilly.","headline":"How to protect state in Pinia","author":{"@id":"#identity"},"image":{"@id":"https://jackdomleo.dev/#/schema/image/2ce1e72"},"keywords":["Vue"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia"},"publisher":{"@id":"#identity"}},{"@id":"https://jackdomleo.dev/#/schema/image/5f7db08","@type":"ImageObject","contentUrl":"https://jackdomleo.dev/me.webp","inLanguage":"en-GB","url":"https://jackdomleo.dev/me.webp"},{"@id":"https://jackdomleo.dev/#/schema/image/2ce1e72","@type":"ImageObject","contentUrl":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia/cover_image.webp","inLanguage":"en-GB","url":"https://jackdomleo.dev/blog/2024/how-to-protect-state-in-pinia/cover_image.webp"}]}</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/blog/2024/how-to-protect-state-in-pinia/_payload.json?e5b0ec0c-2713-4ea7-af58-068b8274a5e4">[{"state":1,"once":13,"_errors":14,"serverRendered":16,"path":17,"prerenderedAt":18},["Reactive",2],{"$snuxt-seo-utils:routeRules":3,"$ssite-config":4},{"head":-1,"seoMeta":-1},{"_priority":5,"description":9,"env":10,"name":11,"url":12},{"name":6,"env":7,"description":8,"url":6},-3,-15,-10,"Jack Domleo's personal website and blog","production","Jack Domleo - Senior Frontend & UX Developer","https://jackdomleo.dev",["Set"],["ShallowReactive",15],{"/blog/2024/how-to-protect-state-in-pinia":-1,"i-custom:j-icon":-1,"i-custom:chevron-down":-1,"i-custom:github":-1,"i-custom:codepen":-1,"i-custom:linkedin":-1,"i-custom:twitter":-1,"i-custom:link":-1},true,"/blog/2024/how-to-protect-state-in-pinia",1755946805695]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{BASE_URL:"https://jackdomleo.dev","seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"],canonicalLowercase:true},content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}}},app:{baseURL:"/",buildId:"e5b0ec0c-2713-4ea7-af58-068b8274a5e4",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>